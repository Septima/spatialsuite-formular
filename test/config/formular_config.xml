<?xml version="1.0" encoding="UTF-8"?>
<config>
    <formular name="distance">
        <header>Beregning af afstand i kategorier</header>
        <submitpage>formular.send.general</submitpage>
        <reportprofile>kbh_themestore</reportprofile>
        <content>
            <address id="addressa" urlparam="addressa" displayname="Fra Adresse:" apikey="[module.spatialaddress.apikey]" filter="komnr0101" disablemap="true" geometry_selected="calculateDistance('addressa','addressb')"></address>
            <address id="addressb" urlparam="addressb" displayname="Til Adresse:" apikey="[module.spatialaddress.apikey]" filter="komnr0101" disablemap="true" geometry_selected="calculateDistance('addressa','addressb')"></address>
            <input id="distance" type="text" displayname="Afstand (fugleflugt): " displayresult="0 m" urlparam="fugleflugt" onchange="var d = jQuery(this).val();if (d>5000) {jQuery('#zone').html('Zone 5')} else {jQuery('#zone').html('Zone 1')}"/>
            <input id="zone" type="text" displayname="" urlparam="zone"/>
        </content>
    </formular>
    <formular name="areachange">
        <header>Beregning af pris ud fra tegnet areal (change event på areal)</header>
        <submitpage>formular.send.general</submitpage>
        <reportprofile>kbh_themestore</reportprofile>
        <content>
            <maptools>
                <maptool displayname="Flyt kortet" name="pan"/>
                <maptool displayname="Tegn en polygon" name="polygon" default="true"/>
                <maptool displayname="Tegn et punkt" name="point"/>
                <maptool displayname="Tegn en linie" name="line"/>
                <maptool displayname="Tegn en cirkel" name="circle"/>
            </maptools>
            <map class="my_map_class">
                <extent>[cbinfo.map.minx.wc],[cbinfo.map.miny.wc],[cbinfo.map.maxx.wc],[cbinfo.map.maxy.wc]</extent>
                <resolutions>0.8,1.6,3.2,6.4,12.8,25.6,51.2,102.4</resolutions>
                <themes>
                    <theme name="theme-startkort-tiled" host="http://3gwc-kbhkort.kk.dk/service/wms?SERVICENAME=ekstern"/>
                </themes>
            </map>
            <area urlparam="areal" displayname="Areal:" onchange="jQuery('#pris').val('Prisen er: '+jQuery(this).val())"/>
            <input id="pris" urlparam="pris" type="input" displayname=""/>
        </content>
    </formular>
    <formular name="checkbox">
        <header>Checkbokse som input</header>
        <submitpage>formular.send.general.nomap</submitpage>
        <reportxsl>kvitering-nomap</reportxsl>
        <reportprofile>kbh_themestore</reportprofile>
        <content>
            <input type="input" displayname="Navn:" urlparam="val0" defaultvalue=""/>
            <input type="checkbox" displayname="Er du sikker:" urlparam="godkendt" defaultvalue="true"/>
            <input type="checkbox" displayname="Send kvitering:" urlparam="sendkvitering" defaultvalue="false"/>
        </content>
    </formular>
    <formular name="encoding">
        <header>Test enconding</header>
        <submitpage>formular.send.general</submitpage>
        <reportprofile>kbh_themestore</reportprofile>
        <content>
            <input type="input" displayname="Navn:" urlparam="val0" defaultvalue="ÅÆØåæø"/>
        </content>
    </formular>
    <formular name="encoding-escape">
        <header>Test enconding med escape (afhjælper en fejl i nogle tilfælde i CBKort 2.6)</header>
        <submitpage>formular.send.general</submitpage>
        <reportprofile>kbh_themestore</reportprofile>
        <js>/modules/formular/js/encodeparam.js</js>
        <content>
            <input type="input" displayname="Navn:" urlparam="val0" defaultvalue="ÅÆØåæø"/>
        </content>
    </formular>
    <formular name="datechange">
        <header>Dato med begrænsning af input datoer ud fra hvad der er valgt i andet adresse felt</header>
        <submitpage>formular.send.general</submitpage>
        <reportprofile>kbh_themestore</reportprofile>
        <content>
            <input id="date1" type="date" displayname="Opsættelses dato:" urlparam="date1" regexp="[0-3][0-9]\.[0-1][0-9]\.[2][0][0-1][0-9]" validate="Dato skal være på formen 29.04.2013" onchange="formular.setDatepickerLimit('date2',{start: jQuery('#date1').val()})"/>
            <input id="date2" type="date" displayname="Nedtagelses dato:" urlparam="date2" regexp="[0-3][0-9]\.[0-1][0-9]\.[2][0][0-1][0-9]" validate="Dato skal være på formen 29.04.2013" onchange="formular.setDatepickerLimit('date1',{end: jQuery('#date2').val()})"/>
        </content>
    </formular>
    <formular name="date">
        <header>Dato (tæl antal dage)</header>
        <submitpage>formular.send.general</submitpage>
        <reportprofile>kbh_themestore</reportprofile>
        <content>
            <input id="date1" type="date" displayname="Opsættelses dato:" urlparam="date1" regexp="[0-3][0-9]\.[0-1][0-9]\.[2][0][0-1][0-9]" validate="Dato skal være på formen 29.04.2013" onchange="formular.countDays(jQuery('#date1').val(),jQuery('#date2').val(),'days')"/>
            <input id="date2" type="date" displayname="Nedtagelses dato:" urlparam="date2" regexp="[0-3][0-9]\.[0-1][0-9]\.[2][0][0-1][0-9]" validate="Dato skal være på formen 29.04.2013" onchange="formular.countDays(jQuery('#date1').val(),jQuery('#date2').val(),'days')"/>
            <input id="days" type="input" displayname="Dage:" urlparam="days"/>
        </content>
    </formular>
    <formular name="condition">
        <header>Betinget input</header>
        <submitpage>formular.send.general.nomap</submitpage>
        <reportxsl>kvitering-nomap</reportxsl>
        <reportprofile>kbh_themestore</reportprofile>
        <content>
            <input id="udnyttelse" type="dropdown" displayname="Arealets udnyttelse pt.:" urlparam="udnyttelse">
                <option value="mark i omdrift" name="Mark i omdrift"/>
                <option value="braklagt mark" name="Braklagt mark"/>
                <option value="udyrket areal" name="Udyrket areal"/>
                <option value="græsning" name="Græsning"/>
            </input>
            <input id="navn" type="input" displayname="Navn:" urlparam="val0" defaultvalue="" condition="jQuery('#udnyttelse').val() == 'braklagt mark'"/>
            <input class="warning" type="text" displayname="Udyrket areal valgt" condition="jQuery('#udnyttelse').val() == 'udyrket areal'"/>
            <input id="val27" type="checkbox" displayname="Er du sikker:" urlparam="godkendt" defaultvalue="false"/>
            <input type="checkbox" displayname="Send kvitering:" urlparam="sendkvitering" defaultvalue="false" condition="jQuery('#val27').is(':checked') == true"/>
            <input class="warning" type="text" displayname="Hej Bo" condition="jQuery('#navn').val() == 'Bo'"/>
        </content>
    </formular>
    <formular name="tabs1">
        <header>Formular med tabs</header>
        <submitpage>formular.send.general</submitpage>
        <reportprofile>kbh_themestore</reportprofile>
        <tabs class="testtab">true</tabs>
        <content displayname="Første side">
            <input type="input" displayname="Navn:" urlparam="val0" defaultvalue="Paging"/>
            <input type="input" displayname="Adresse:" urlparam="val1"/>
            <input type="input" displayname="Postnr:" urlparam="val2"/>
        </content>
        <content displayname="Kort">
            <maptools>
                <maptool displayname="Flyt kortet" name="pan"/>
                <maptool displayname="Udpeg en matrikel" name="select" datasource="ds_jordstykke"/>
                <maptool displayname="Tegn en polygon" name="polygon"/>
                <maptool displayname="Tegn et punkt" name="point" default="true"/>
                <maptool displayname="Tegn en linie" name="line"/>
                <maptool displayname="Tegn en cirkel" name="circle"/>
            </maptools>
            <map class="my_map_class">
                <extent>[cbinfo.map.minx.wc],[cbinfo.map.miny.wc],[cbinfo.map.maxx.wc],[cbinfo.map.maxy.wc]</extent>
                <resolutions>0.4,0.8,1.6,3.2,6.4,12.8,25.6,51.2,102.4</resolutions>
                <themes>
                    <theme name="theme-startkort-tiled" host="http://3gwc-kbhkort.kk.dk/service/wms?SERVICENAME=ekstern"/>
                </themes>
            </map>
            <input type="input" displayname="Ansøger:" urlparam="val3" defaultvalue="Mig"/>
            <input type="input" displayname="Hest:" urlparam="val4"/>
            <input type="input" displayname="Får:" urlparam="val5"/>
        </content>
        <content displayname="Sidste side">
            <input type="input" displayname="Noget nyt" urlparam="val6" defaultvalue="Paging"/>
            <input type="input" displayname="ABC:" urlparam="val7"/>
            <confirm displayname="Følgende oplysninger er indtastet. Er det korrekt?"/>
        </content>
    </formular>
    <formular name="paging">
        <header>Formular over flere sider</header>
        <submitpage>formular.send.general</submitpage>
        <reportprofile>kbh_themestore</reportprofile>
        <content>
            <input type="input" displayname="Navn:" urlparam="val0" defaultvalue="Paging"/>
            <input type="input" displayname="Adresse:" urlparam="val1"/>
            <input type="input" displayname="Postnr:" urlparam="val2"/>
        </content>
        <content>
            <maptools>
                <maptool displayname="Flyt kortet" name="pan"/>
                <maptool displayname="Udpeg en matrikel" name="select" datasource="ds_jordstykke"/>
                <maptool displayname="Tegn en polygon" name="polygon"/>
                <maptool displayname="Tegn et punkt" name="point" default="true"/>
                <maptool displayname="Tegn en linie" name="line"/>
                <maptool displayname="Tegn en cirkel" name="circle"/>
            </maptools>
            <map class="my_map_class">
                <extent>[cbinfo.map.minx.wc],[cbinfo.map.miny.wc],[cbinfo.map.maxx.wc],[cbinfo.map.maxy.wc]</extent>
                <resolutions>0.4,0.8,1.6,3.2,6.4,12.8,25.6,51.2,102.4</resolutions>
                <themes>
                    <theme name="theme-startkort-tiled" host="http://3gwc-kbhkort.kk.dk/service/wms?SERVICENAME=ekstern"/>
                </themes>
            </map>
            <input type="input" displayname="Ansøger:" urlparam="val3" defaultvalue="Mig"/>
            <input type="input" displayname="Hest:" urlparam="val4"/>
            <input type="input" displayname="Får:" urlparam="val5"/>
        </content>
        <content>
            <input type="input" displayname="Noget nyt" urlparam="val6" defaultvalue="Paging"/>
            <input type="input" displayname="ABC:" urlparam="val7"/>
        </content>
    </formular>
    
    <formular name="soe-test">
        <title>Ansøgningsskema til vandhuller</title>
        <header>Ansøgningsskema til &lt;br/&gt;vandhuller</header>
        <subheader>Ansøgning efter &lt;br/&gt;naturbeskyttelsesloven</subheader>
        <help displayname="Hjælp"><![CDATA[<b>Hjælp</b><br/>Her står der hvordan du kan bruge siden. Man kan skrive HTML ind i hjælpeteksten. Det kunne også være billeder og <a href="http://spatialmap.com">links</a>]]></help>
        <submitpage>formular.send.soe-test</submitpage>
        <reportprofile>kbh_themestore</reportprofile>
        <reportlayers>default</reportlayers>
        <reportxsl>kvitering</reportxsl>
        <reportmapscale>1000</reportmapscale>
        <css>/modules/formular/test/custom.css</css>
        <js>/modules/formular/test/custom.js</js>
        <content>
            <input type="hidden" urlparam="pdfheadertext1" defaultvalue="Dette er en tekst, der skal sættes ind i kviteringen."/>
            <address urlparam="address" displayname="Adresse:" apikey="[module.spatialaddress.apikey]" filter="komnr0153" regexp="[a-zæøå]" validate="Det skal være indtastet en adresse!"></address>
            <maptools>
                <maptool displayname="Flyt kortet" name="pan"/>
                <maptool displayname="Udpeg en matrikel" name="select" datasource="ds_jordstykke"/>
                <maptool displayname="Tegn en polygon" name="polygon"/>
                <maptool displayname="Tegn et punkt" name="point" default="true"/>
                <maptool displayname="Tegn en linie" name="line"/>
                <maptool displayname="Tegn en cirkel" name="circle"/>
            </maptools>
            <map class="my_map_class">
                <extent>[cbinfo.map.minx.wc],[cbinfo.map.miny.wc],[cbinfo.map.maxx.wc],[cbinfo.map.maxy.wc]</extent>
                <resolutions>0.4,0.8,1.6,3.2,6.4,12.8,25.6,51.2,102.4</resolutions>
                <themes>
                    <theme name="theme-startkort-tiled" host="http://3gwc-kbhkort.kk.dk/service/wms?SERVICENAME=ekstern"/>
                </themes>
            </map>
            <area urlparam="areal" displayname="Areal:"/>
            <conflicts urlparam="konflikttekst1" displayname="Det ansøgte vandhul vedrører følgende ejendom(e):" targerset="ejendom"/>
            <input type="dropdown" displayname="Hvad &lt;br/&gt;søges:" urlparam="hvad">
                <option value="ny sø" name="Ny sø"/>
                <option value="oprensning af sø" name="Oprensning af sø"/>
                <option value="udvidelse af sø" name="Udvidelse af sø"/>
            </input>
            <input type="text" displayname="Dette er en over skrift der kan være meget lang eller hvad man nu har lyst til at skrive"/>
            <input type="dropdown" displayname="Arealets udnyttelse pt.:" urlparam="udnyttelse">
                <option value="mark i omdrift" name="Mark i omdrift"/>
                <option value="braklagt mark" name="Braklagt mark"/>
                <option value="udyrket areal" name="Udyrket areal"/>
                <option value="græsning" name="Græsning"/>
            </input>
            <input type="dropdown" displayname="Drænet:" urlparam="draenet" defaultvalue="delvis drænet">
                <option value="drænet" name="Ja"/>
                <option value="ikke drænet" name="Nej"/>
                <option value="delvis drænet" name="Delvis"/>
            </input>
            <input type="radiobutton" displayname="Drænet:" urlparam="draenet2" defaultvalue="ikke drænet">
                <option value="drænet" name="Ja"/>
                <option value="ikke drænet" name="Nej"/>
                <option value="delvis drænet" name="Delvis"/>
            </input>
            <input type="checkbox" displayname="Godkendt:" urlparam="godkendt" defaultvalue="true"/>
            <input type="input" displayname="Navn:" urlparam="navn" defaultvalue="Karsten Pihl"/>
            <input id="karsten" type="input" displayname="E-mail:" urlparam="email" regexp=".+" validate="Der skal indtastes et tal selvom det ikke giver mening her!"/>
            <input type="input" displayname="Tlf. nr.:" id="tlf1" urlparam="tlf"/>
            <input type="input" displayname="Tlf. nr.:" id="tlf2" urlparam="tlf" onkeyup="formular.compare('tlf1','tlf2','De to skal være ens')"/>
            <!-- input type="input" displayname="Træffetid:" urlparam="traeffetid" id="trtid" onkeyup="if (jQuery('#trtid').val() == 'a') {jQuery('#tlfnr').val('abc')} else {jQuery('#tlfnr').val('123')}"/-->
            <input type="input" displayname="XTræffetid:" urlparam="traeffetid" id="trtid" onkeyup="jQuery('#tlf1').val((jQuery('#trtid').val()-0)*127)" regexp="[0-9]" validate="Det skal være et tal!"/> 
            <input type="file"  displayname="Vedlæg tegning:" urlparam="filnavn" extensions="pdf,gif"/>
            <input type="date" displayname="Opsættelses dato:" urlparam="date1" defaultvalue="08.04.2013"/>
            <input type="date" displayname="Nedtagnings dato:" urlparam="date2" regexp="[0-3][0-9]\.[0-1][0-9]\.[2][0][0-1][0-9]" validate="Dato skal være på formen 29.04.2013"/>
            <conflicts class="warning" displayname="Vær opmærksom på at arealet ligger inden for 10 meter fra et §3 område" targerset="konflikt"/>
            <input type="textarea" urlparam="begrundelse" displayname="Begrundelse for ansøgning:"/>
            <input type="textarea" displayname="Yderligere kommentarer:" urlparam="kommentar" defaultvalue="ikke udfyldt"/>

            <confirm displayname="Følgende oplysninger er indtastet. Er det korrekt?"/>
            <submitbutton displayname="Opret ny" function="formular.start();"/>
            <submitbutton displayname="Betal" function="formular.load('http://betalingssideforranders.dk/adsfsafd?alksdf=34&amp;sdfsdf=344&amp;ref=');"/>
        </content>
    </formular>
    <formular name="test2">
        <title>Ansøgningsskema til vandhuller</title>
        <header>Ansøgningsskema til vandhuller</header>
        <help displayname="Hjælp"><![CDATA[<b>Hjælp</b><br/>Her står der hvordan du kan bruge siden. Man kan skrive HTML ind i hjælpeteksten. Det kunne også være billeder og <a href="http://spatialmap.com">links</a>]]></help>
        <submitpage>formular.config-test2</submitpage>
        <reportxsl>kvitering-test2</reportxsl>
        <content>
            <address urlparam="address" displayname="Adresse:" apikey="[module.spatialaddress.apikey]" filter="komnr0153"></address>
            <input type="input" displayname="Navn:" urlparam="navn"/>
        </content>
    </formular>
</config>