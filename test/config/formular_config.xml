<?xml version="1.0" encoding="UTF-8"?>
<config>
    <formular name="themeoptions">
        <title>Tema indstillinger</title>
        <header>Flere temaer med forskellige options</header>
        <submitpage>formular.send.general</submitpage>
        <reportprofile>kbh_themestore</reportprofile>
        <content>
            <input type="hidden" urlparam="about" defaultvalue="Test af options på temaer"/>
            <maptools>
                <maptool displayname="Flyt kortet" name="pan" default="true"/>
                <maptool displayname="Tegn en linie" name="line"/>
            </maptools>
            <map class="my_map_class">
                <extent>[cbinfo.map.minx.wc],[cbinfo.map.miny.wc],[cbinfo.map.maxx.wc],[cbinfo.map.maxy.wc]</extent>
                <resolutions>0.8,1.6,3.2,6.4,12.8,25.6,51.2,102.4</resolutions>
                <themes>
                    <theme singleTile="false" useSessionID="false" name="theme-startkort-tiled" host="http://3gwc-kbhkort.kk.dk/service/wms?SERVICENAME=ekstern"/>
                    <theme singleTile="true" opacity=".5" servicename="kbh_themestore" useSessionID="true" name="theme-biblioteker" host="/wms"/>
                </themes>
            </map>
        </content>
    </formular>
    <formular name="dropdown">
        <header>Dropdown hentet fra en datasource</header>
        <submitpage>formular.send.general.nomap</submitpage>
        <content>
            <input type="hidden" urlparam="about" defaultvalue="Dropdown hentet fra en datasource"/>
            <input type="input" displayname="Navn:" urlparam="name" defaultvalue=""/>
            <input id="udnyttelse" type="dropdown" displayname="Arealets udnyttelse pt.:" urlparam="val0" datasource="formular-test"/>
            <input id="kategori" type="dropdown" displayname="Kategori:" urlparam="val1">
                <option value="1" name="Bygninger"/>
                <option value="2" name="Veje &amp; stier"/>
                <option value="3" name="Grønne områder"/>
            </input>
        </content>
    </formular>
    <formular name="distance">
        <header>Beregning af afstand i kategorier</header>
        <submitpage>formular.send.general.nomap</submitpage>
        <content>
            <input type="hidden" urlparam="about" defaultvalue="Beregning af afstande"/>
            <input type="input" displayname="Navn:" urlparam="name" defaultvalue=""/>
            <address id="addressa" urlparam="val0" displayname="Fra Adresse:" apikey="[module.spatialaddress.apikey]" filter="komnr0101" disablemap="true" geometry_selected="calculateDistance('addressa','addressb')"></address>
            <address id="addressb" urlparam="val1" displayname="Til Adresse:" apikey="[module.spatialaddress.apikey]" filter="komnr0101" disablemap="true" geometry_selected="calculateDistance('addressa','addressb')"></address>
            <input id="distance" type="text" displayname="Afstand (fugleflugt): " displayresult="0 m" urlparam="val2" onchange="var d = jQuery(this).val();if (d>5000) {jQuery('#zone').html('Zone 5')} else {jQuery('#zone').html('Zone 1')}"/>
            <input id="zone" type="text" displayname="" urlparam="val3"/>
        </content>
    </formular>
    <formular name="areachange">
        <title>Areal</title>
        <header>Beregning af pris ud fra tegnet areal (change event på areal)</header>
        <submitpage>formular.send.general</submitpage>
        <reportprofile>kbh_themestore</reportprofile>
        <content>
            <input type="hidden" urlparam="about" defaultvalue="Test af events for arealer"/>
            <maptools>
                <maptool displayname="Flyt kortet" name="pan"/>
                <maptool displayname="Tegn en polygon" name="polygon" default="true"/>
                <maptool displayname="Tegn et punkt" name="point"/>
                <maptool displayname="Tegn en linie" name="line"/>
                <maptool displayname="Tegn en cirkel" name="circle"/>
            </maptools>
            <map class="my_map_class">
                <extent>[cbinfo.map.minx.wc],[cbinfo.map.miny.wc],[cbinfo.map.maxx.wc],[cbinfo.map.maxy.wc]</extent>
                <resolutions>0.8,1.6,3.2,6.4,12.8,25.6,51.2,102.4</resolutions>
                <themes>
                    <theme name="theme-startkort-tiled" host="http://3gwc-kbhkort.kk.dk/service/wms?SERVICENAME=ekstern"/>
                </themes>
            </map>
            <area urlparam="areal" displayname="Areal:" onchange="jQuery('#pris').val('Prisen er: '+jQuery(this).val())"/>
            <input id="pris" urlparam="pris" type="input" displayname=""/>
        </content>
    </formular>
    <formular name="checkbox">
        <header>Checkbokse som input</header>
        <submitpage>formular.send.general.nomap</submitpage>
        <content>
            <input type="hidden" urlparam="about" defaultvalue="Test af checkbokse"/>
            <input type="input" displayname="Navn:" urlparam="name" defaultvalue=""/>
            <input type="checkbox" displayname="Er du sikker:" urlparam="godkendt" defaultvalue="true"/>
            <input type="checkbox" displayname="Send kvitering:" urlparam="val0" defaultvalue="false"/>
        </content>
    </formular>
    <formular name="encoding">
        <header>Test enconding</header>
        <submitpage>formular.send.general.nomap</submitpage>
        <content>
            <input type="hidden" urlparam="about" defaultvalue="Test af encoding"/>
            <input type="input" displayname="Tekst med ÅÆØ:" urlparam="val0" defaultvalue="ÅÆØåæø"/>
        </content>
    </formular>
    <formular name="encoding-escape">
        <header>Test enconding med escape (afhjælper en fejl i nogle tilfælde i CBKort 2.6)</header>
        <submitpage>formular.send.general.nomap</submitpage>
        <js>/modules/formular/js/encodeparam.js</js>
        <content>
            <input type="hidden" urlparam="about" defaultvalue="Test af tekster med ÆØÅ"/>
            <input type="input" displayname="Navn:" urlparam="val0" defaultvalue="ÅÆØåæø"/>
        </content>
    </formular>
    <formular name="datechange">
        <header>Dato med begrænsning af input datoer ud fra hvad der er valgt i andet adresse felt</header>
        <submitpage>formular.send.general.nomap</submitpage>
        <content>
            <input type="hidden" urlparam="about" defaultvalue="Datovælger med begrænsninger"/>
            <input id="date1" type="date" displayname="Opsættelses dato:" urlparam="val0" regexp="[0-3][0-9]\.[0-1][0-9]\.[2][0][0-1][0-9]" validate="Dato skal være på formen 29.04.2013" onchange="formular.setDatepickerLimit('date2',{start: jQuery('#date1').val()})"/>
            <input id="date2" type="date" displayname="Nedtagelses dato:" urlparam="val1" regexp="[0-3][0-9]\.[0-1][0-9]\.[2][0][0-1][0-9]" validate="Dato skal være på formen 29.04.2013" onchange="formular.setDatepickerLimit('date1',{end: jQuery('#date2').val()})"/>
        </content>
    </formular>
    <formular name="date">
        <header>Dato (tæl antal dage)</header>
        <submitpage>formular.send.general.nomap</submitpage>
        <content>
            <input type="hidden" urlparam="about" defaultvalue="Datovælger med altal af dage"/>
            <input id="date1" type="date" displayname="Opsættelses dato:" urlparam="val0" regexp="[0-3][0-9]\.[0-1][0-9]\.[2][0][0-1][0-9]" validate="Dato skal være på formen 29.04.2013" onchange="formular.countDays(jQuery('#date1').val(),jQuery('#date2').val(),'days')"/>
            <input id="date2" type="date" displayname="Nedtagelses dato:" urlparam="val1" regexp="[0-3][0-9]\.[0-1][0-9]\.[2][0][0-1][0-9]" validate="Dato skal være på formen 29.04.2013" onchange="formular.countDays(jQuery('#date1').val(),jQuery('#date2').val(),'days')"/>
            <input id="days" type="input" displayname="Antal dage:" urlparam="val0"/>
        </content>
    </formular>
    <formular name="condition">
        <header>Betinget input</header>
        <submitpage>formular.send.general.nomap</submitpage>
        <content>
            <input type="hidden" urlparam="about" defaultvalue="Betingede input"/>
            <input id="udnyttelse" type="dropdown" displayname="Arealets udnyttelse pt.:" urlparam="val1">
                <option value="mark i omdrift" name="Mark i omdrift"/>
                <option value="braklagt mark" name="Braklagt mark"/>
                <option value="udyrket areal" name="Udyrket areal"/>
                <option value="græsning" name="Græsning"/>
            </input>
            <input urlparam="val0" id="navn" type="input" displayname="Navn:" defaultvalue="" condition="jQuery('#udnyttelse').val() == 'braklagt mark'"/>
            <input urlparam="val1" class="warning" type="text" displayname="Udyrket areal valgt" condition="jQuery('#udnyttelse').val() == 'udyrket areal'"/>
            <input urlparam="val2" id="val27" type="checkbox" displayname="Er du sikker:" defaultvalue="false"/>
            <input urlparam="val3" type="checkbox" displayname="Send kvitering:" defaultvalue="false" condition="jQuery('#val27').is(':checked') == true"/>
            <input urlparam="val4" class="warning" type="text" displayname="Hej Bo" condition="jQuery('#navn').val() == 'Bo'"/>
        </content>
    </formular>
    <formular name="tabs1">
        <header>Formular med tabs</header>
        <submitpage>formular.send.general</submitpage>
        <reportprofile>kbh_themestore</reportprofile>
        <tabs class="testtab">true</tabs>
        <content displayname="Første side">
            <input type="hidden" urlparam="about" defaultvalue="Formular på flere sider med tabs"/>
            <input type="input" displayname="Navn:" urlparam="val0" defaultvalue="Paging"/>
            <input type="input" displayname="Adresse:" urlparam="val1"/>
            <input type="input" displayname="Postnr:" urlparam="val2"/>
        </content>
        <content displayname="Kort">
            <maptools>
                <maptool displayname="Flyt kortet" name="pan"/>
                <maptool displayname="Udpeg en matrikel" name="select" datasource="ds_jordstykke"/>
                <maptool displayname="Tegn en polygon" name="polygon"/>
                <maptool displayname="Tegn et punkt" name="point" default="true"/>
                <maptool displayname="Tegn en linie" name="line"/>
                <maptool displayname="Tegn en cirkel" name="circle"/>
            </maptools>
            <map class="my_map_class">
                <extent>[cbinfo.map.minx.wc],[cbinfo.map.miny.wc],[cbinfo.map.maxx.wc],[cbinfo.map.maxy.wc]</extent>
                <resolutions>0.4,0.8,1.6,3.2,6.4,12.8,25.6,51.2,102.4</resolutions>
                <themes>
                    <theme name="theme-startkort-tiled" host="http://3gwc-kbhkort.kk.dk/service/wms?SERVICENAME=ekstern"/>
                </themes>
            </map>
            <input type="input" displayname="Ansøger:" urlparam="val3" defaultvalue="Mig"/>
            <input type="input" displayname="Hest:" urlparam="val4"/>
            <input type="input" displayname="Får:" urlparam="val5"/>
        </content>
        <content displayname="Sidste side">
            <input type="input" displayname="Noget nyt" urlparam="val6" defaultvalue="Paging"/>
            <input type="input" displayname="ABC:" urlparam="val7"/>
            <confirm displayname="Følgende oplysninger er indtastet. Er det korrekt?"/>
        </content>
    </formular>
    <formular name="tabs2">
        <header>Institutions blanket</header>
        <submitpage>formular.send.general.nomap</submitpage>
        <tabs class="smalltabs">true</tabs>
        <content displayname="1. Hvem er du?">
            <input type="hidden" urlparam="about" defaultvalue="Registrering af opgaver"/>
            <input id="institution" type="dropdown" displayname="Vælg institution:" urlparam="name">
                <option value="1" name="Kristrup Vuggestue"/>
                <option value="2" name="Tjærbyvejens Vuggestue"/>
                <option value="3" name="Vuggestuen Firkløveren"/>
                <option value="4" name="Vuggestuen Grønnegade"/>
            </input>
        </content>
        <content displayname="2. Hvad er opgaven?">
            <input id="kategori" type="dropdown" displayname="Kategori:" urlparam="val1">
                <option value="1" name="Bygninger"/>
                <option value="2" name="Veje &amp; stier"/>
                <option value="3" name="Grønne områder"/>
            </input>
            <input id="bygninger_hoved" type="dropdown" displayname="Hovedgruppe:" urlparam="val2" condition="jQuery('#kategori').val() == '1'">
                <option value="1" name="Tag &amp; facader"/>
                <option value="2" name="Tekniske installationer"/>
                <option value="3" name="Udvendige døre &amp; vinduer"/>
            </input>
            <input id="vejeogstier_hoved" type="dropdown" displayname="Hovedgruppe:" urlparam="val3" condition="jQuery('#kategori').val() == '2'">
                <option value="1" name="aaa"/>
                <option value="2" name="bbb"/>
                <option value="3" name="ccc"/>
            </input>
            <input id="gronneomr_hoved" type="dropdown" displayname="Hovedgruppe:" urlparam="val4" condition="jQuery('#kategori').val() == '3'">
                <option value="1" name="111"/>
                <option value="2" name="222"/>
                <option value="3" name="333"/>
            </input>
            <input id="bygninger_tagogfacede_under" type="dropdown" displayname="Undergruppe:" urlparam="val5" condition="jQuery('#kategori').val() == '1' &amp;&amp; jQuery('#bygninger_hoved').val() == '1'">
                <option value="1" name="Fundament"/>
                <option value="2" name="Tag &amp; Tilbehør"/>
                <option value="3" name="Ydervæg"/>
            </input>
            <input type="date" displayname="Dato:" urlparam="val6" regexp="[0-3][0-9]\.[0-1][0-9]\.[2][0][0-1][0-9]" validate="Dato skal være på formen 29.04.2013"/>
        </content>
        <content displayname="Indsend opgave">
            <input id="bygninger_tagogfacede_under" type="dropdown" displayname="Opgave:" urlparam="val7" condition="jQuery('#kategori').val() == '1' &amp;&amp; jQuery('#bygninger_hoved').val() == '1'">
                <option value="1" name="Fundament"/>
                <option value="2" name="Tag &amp; Tilbehør"/>
                <option value="3" name="Ydervæg"/>
            </input>
        </content>
        <content displayname="Detaljer">
            <input type="textarea" displayname="Tekst:" urlparam="val8"/>
            <input type="file" displayname="Billede:" urlparam="billede"/>
        </content>
    </formular>
    <formular name="paging">
        <header>Formular over flere sider</header>
        <submitpage>formular.send.general</submitpage>
        <reportprofile>kbh_themestore</reportprofile>
        <content>
            <input type="hidden" urlparam="about" defaultvalue="Formular på flere sider"/>
            <input type="input" displayname="Navn:" urlparam="val0" defaultvalue="Paging"/>
            <input type="input" displayname="Adresse:" urlparam="val1"/>
            <input type="input" displayname="Postnr:" urlparam="val2"/>
        </content>
        <content>
            <maptools>
                <maptool displayname="Flyt kortet" name="pan"/>
                <maptool displayname="Udpeg en matrikel" name="select" datasource="ds_jordstykke"/>
                <maptool displayname="Tegn en polygon" name="polygon"/>
                <maptool displayname="Tegn et punkt" name="point" default="true"/>
                <maptool displayname="Tegn en linie" name="line"/>
                <maptool displayname="Tegn en cirkel" name="circle"/>
            </maptools>
            <map class="my_map_class">
                <extent>[cbinfo.map.minx.wc],[cbinfo.map.miny.wc],[cbinfo.map.maxx.wc],[cbinfo.map.maxy.wc]</extent>
                <resolutions>0.4,0.8,1.6,3.2,6.4,12.8,25.6,51.2,102.4</resolutions>
                <themes>
                    <theme name="theme-startkort-tiled" host="http://3gwc-kbhkort.kk.dk/service/wms?SERVICENAME=ekstern"/>
                </themes>
            </map>
            <input type="input" displayname="Ansøger:" urlparam="val3" defaultvalue="Mig"/>
            <input type="input" displayname="Hest:" urlparam="val4"/>
            <input type="input" displayname="Får:" urlparam="val5"/>
        </content>
        <content>
            <input type="input" displayname="Noget nyt" urlparam="val6" defaultvalue="Paging"/>
            <input type="input" displayname="ABC:" urlparam="val7"/>
        </content>
    </formular>
    
    <formular name="soe-test">
        <title>Ansøgningsskema til vandhuller</title>
        <header>Ansøgningsskema til &lt;br/&gt;vandhuller</header>
        <subheader>Ansøgning efter &lt;br/&gt;naturbeskyttelsesloven</subheader>
        <help displayname="Hjælp"><![CDATA[<b>Hjælp</b><br/>Her står der hvordan du kan bruge siden. Man kan skrive HTML ind i hjælpeteksten. Det kunne også være billeder og <a href="http://spatialmap.com">links</a>]]></help>
        <submitpage>formular.send.general</submitpage>
        <reportprofile>kbh_themestore</reportprofile>
        <reportlayers>default</reportlayers>
        <reportxsl>pdf</reportxsl>
        <reportmapscale>1000</reportmapscale>
        <css>/modules/formular/test/custom.css</css>
        <js>/modules/formular/test/custom.js</js>
        <content>
            <input type="hidden" urlparam="about" defaultvalue="Ansøgningsskema til vandhuller"/>
            <address urlparam="address" displayname="Adresse:" apikey="[module.spatialaddress.apikey]" filter="komnr0153" regexp="[a-zæøå]" validate="Det skal være indtastet en adresse!"></address>
            <maptools>
                <maptool displayname="Flyt kortet" name="pan"/>
                <maptool displayname="Udpeg en matrikel" name="select" datasource="ds_jordstykke"/>
                <maptool displayname="Tegn en polygon" name="polygon"/>
                <maptool displayname="Tegn et punkt" name="point" default="true"/>
                <maptool displayname="Tegn en linie" name="line"/>
                <maptool displayname="Tegn en cirkel" name="circle"/>
            </maptools>
            <map class="my_map_class">
                <extent>[cbinfo.map.minx.wc],[cbinfo.map.miny.wc],[cbinfo.map.maxx.wc],[cbinfo.map.maxy.wc]</extent>
                <resolutions>0.4,0.8,1.6,3.2,6.4,12.8,25.6,51.2,102.4</resolutions>
                <themes>
                    <theme name="theme-startkort-tiled" host="http://3gwc-kbhkort.kk.dk/service/wms?SERVICENAME=ekstern"/>
                </themes>
            </map>
            <area urlparam="areal" displayname="Areal:"/>
            <conflicts urlparam="konflikttekst1" displayname="Det ansøgte vandhul vedrører følgende ejendom(e):" targerset="ejendom"/>
            <input type="dropdown" displayname="Hvad &lt;br/&gt;søges:" urlparam="hvad">
                <option value="ny sø" name="Ny sø"/>
                <option value="oprensning af sø" name="Oprensning af sø"/>
                <option value="udvidelse af sø" name="Udvidelse af sø"/>
            </input>
            <input type="text" displayname="Dette er en over skrift der kan være meget lang eller hvad man nu har lyst til at skrive"/>
            <input type="dropdown" displayname="Arealets udnyttelse pt.:" urlparam="udnyttelse">
                <option value="mark i omdrift" name="Mark i omdrift"/>
                <option value="braklagt mark" name="Braklagt mark"/>
                <option value="udyrket areal" name="Udyrket areal"/>
                <option value="græsning" name="Græsning"/>
            </input>
            <input type="dropdown" displayname="Drænet:" urlparam="draenet" defaultvalue="delvis drænet">
                <option value="drænet" name="Ja"/>
                <option value="ikke drænet" name="Nej"/>
                <option value="delvis drænet" name="Delvis"/>
            </input>
            <input type="radiobutton" displayname="Drænet:" urlparam="draenet2" defaultvalue="ikke drænet">
                <option value="drænet" name="Ja"/>
                <option value="ikke drænet" name="Nej"/>
                <option value="delvis drænet" name="Delvis"/>
            </input>
            <input type="checkbox" displayname="Godkendt:" urlparam="godkendt" defaultvalue="true"/>
            <input type="input" displayname="Navn:" urlparam="navn" defaultvalue="Karsten Pihl"/>
            <input id="karsten" type="input" displayname="E-mail:" urlparam="email" regexp=".+" validate="Der skal indtastes et tal selvom det ikke giver mening her!"/>
            <input type="input" displayname="Tlf. nr.:" id="tlf1" urlparam="tlf"/>
            <input type="input" displayname="Tlf. nr.:" id="tlf2" urlparam="tlf" onkeyup="formular.compare('tlf1','tlf2','De to skal være ens')"/>
            <!-- input type="input" displayname="Træffetid:" urlparam="traeffetid" id="trtid" onkeyup="if (jQuery('#trtid').val() == 'a') {jQuery('#tlfnr').val('abc')} else {jQuery('#tlfnr').val('123')}"/-->
            <input type="input" displayname="XTræffetid:" urlparam="traeffetid" id="trtid" onkeyup="jQuery('#tlf1').val((jQuery('#trtid').val()-0)*127)" regexp="[0-9]" validate="Det skal være et tal!"/> 
            <input type="file"  displayname="Vedlæg tegning:" urlparam="filnavn" extensions="pdf,gif"/>
            <input type="date" displayname="Opsættelses dato:" urlparam="date1" defaultvalue="08.04.2013"/>
            <input type="date" displayname="Nedtagnings dato:" urlparam="date2" regexp="[0-3][0-9]\.[0-1][0-9]\.[2][0][0-1][0-9]" validate="Dato skal være på formen 29.04.2013"/>
            <conflicts class="warning" displayname="Vær opmærksom på at arealet ligger inden for 10 meter fra et §3 område" targerset="konflikt"/>
            <input type="textarea" urlparam="begrundelse" displayname="Begrundelse for ansøgning:"/>
            <input type="textarea" displayname="Yderligere kommentarer:" urlparam="kommentar" defaultvalue="ikke udfyldt"/>

            <confirm displayname="Følgende oplysninger er indtastet. Er det korrekt?"/>
            <submitbutton displayname="Opret ny" function="formular.start();"/>
            <submitbutton displayname="Betal" function="formular.load('http://betalingssideforranders.dk/adsfsafd?alksdf=34&amp;sdfsdf=344&amp;ref=');"/>
        </content>
    </formular>
    <formular name="test2">
        <title>Ansøgningsskema til vandhuller</title>
        <header>Ansøgningsskema til vandhuller</header>
        <help displayname="Hjælp"><![CDATA[<b>Hjælp</b><br/>Her står der hvordan du kan bruge siden. Man kan skrive HTML ind i hjælpeteksten. Det kunne også være billeder og <a href="http://spatialmap.com">links</a>]]></help>
        <submitpage>formular.send.general.nomap</submitpage>
        <content>
            <address urlparam="address" displayname="Adresse:" apikey="[module.spatialaddress.apikey]" filter="komnr0153"></address>
            <input type="input" displayname="Navn:" urlparam="navn"/>
        </content>
    </formular>
</config>